---
title: "Niriで外部ディスプレイを繋ぐとクラッシュする問題"
description: "根本の解決はしてないけどワークアラウンドを見つけたのでとりあえず共有"
pubDate: "Jan 22 2026"
emoji: "🦊"
tags: ["niri", "wayland", "linux"]
draft: false
---

あけましておめでとうございます！ 今年もよろしくお願いします。

---

最近はNiriっていうイカしたDEを使っているのだけど、これが外部ディスプレイを繋ぐとクラッシュして外部ディスプレイに何も映らなくなった。
症状はこんな感じ。

- HDMIケーブルを抜き差しすると画面が映らなくなる。
- wdisplays確認するとモニター自体は認識されている。
- マウスカーソルは映らないモニターにも移動できる。

Claude
Codeシバいて色々試行錯誤したのだけど、僕の環境だと以下の2つを設定したらとりあえず動作が安定した。

- ユーザーをvideoユーザーグループに入れる
- no-csdを無効化した(ウィンドウ名の表示を消したりしてると有効化されている可能性がある)

関連するissueとかもあって深掘りしてみても良いのだけど、とりあえず安定動作が先決なのでワークアラウンドだけ書いてみる。
追加で情報があったらここに追記していくかも。

参考まで、にClaude Codeに書かせたレポートも貼ってみる。

https://gist.github.com/Comamoca/2baa860a7245448688b3e40b8c01d0c5
