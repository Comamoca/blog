---
title: "2025-03-03ã®æ—¥å ±"
description: "03/3ã®æ—¥å ±ã‚’ãŠå±Šã‘ã„ãŸã—ã¾ã™ã€‚"
pubDate: "Mar 3 2025"
emoji: ğŸ¦Š
tags: []
draft: false
---

## ä»Šæ—¥ã‚„ã£ãŸã“ã¨

### C#

JavaScriptã¨C#ã®é€Ÿåº¦ã‚’æ¯”è¼ƒã—ãŸã‹ã£ãŸã®ã§ã€Honoã¨ASP.NETã§ãƒ™ãƒ³ãƒã‚’å–ã£ã¦ã„ãŸã€‚

[Honoã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚³ãƒ¼ãƒ‰](https://github.com/honojs/hono/blob/main/benchmarks/webapp/hono.js)ã‚’å…ƒã«ASP.NETã§ã‚‚åŒæ§˜ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã€[siege](https://github.com/JoeDog/siege)ã‚’ä½¿ã£ã¦è¨ˆæ¸¬ã—ãŸã€‚

```cs
var builder = WebApplication.CreateBuilder(args);
var app = builder.Build();

app.MapGet("/user", () => "User");
app.MapGet("/user/comments", () => "User Comments");
app.MapGet("/user/avatar", () => "User Avatar");
app.MapGet("/user/lookup/email/{address}", () => "User Lookup Email Address");
app.MapGet("/event/{id}", () => "Event");
app.MapGet("/event/{id}/comments", () => "User Comments");
app.MapPost("/event/{id}/comments", () => "POST Event Comments");
app.MapPost("/status", () => "Status");
app.MapGet("very/deeply/nested/route/hello/there", () => "");
app.MapGet("/user/lookup/username/{username}", (string username) => $"Hello {username}");

app.Run();
```

```sh
# Hono
siege -t 5s http://localhost:3000/

# ASP.NET
siege -t 5s http://localhost:5028/
```

ã¾ãšã‚³ãƒ¼ãƒ‰ã®è¦‹ãŸç›®ãŒã‹ãªã‚ŠHonoã«ä¼¼ã¦ã„ã‚‹äº‹ã«é©šã„ãŸã€‚
ãŠã‹ã’ã§ã™ã‚“ãªã‚Šã¨ã‚³ãƒ¼ãƒ‰ãŒæ›¸ã‘ãŸæ°—ãŒã™ã‚‹ã€‚

è¨ˆæ¸¬çµæœã¯æ¬¡ã®é€šã‚Šã€‚`-c 100`ã¯åŒæ™‚æ¥ç¶šãŒ100äººã«å¢—ãˆãŸå ´åˆã®è¨ˆæ¸¬çµæœã€‚
ãªãŠãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯`-c 15`ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã€‚

#### Hono

```
Transactions:                  36932 hits
Availability:                 100.00 %
Elapsed time:                   5.25 secs
Data transferred:               0.46 MB
Response time:                  0.00 secs
Transaction rate:            7034.67 trans/sec
Throughput:                     0.09 MB/sec
Concurrency:                   24.44
Successful transactions:       36932
Failed transactions:               0
Longest transaction:            0.02
Shortest transaction:           0.00
```

##### -c 100

```
Transactions:                  34760 hits
Availability:                 100.00 %
Elapsed time:                   5.67 secs
Data transferred:               0.43 MB
Response time:                  0.02 secs
Transaction rate:            6130.51 trans/sec
Throughput:                     0.08 MB/sec
Concurrency:                   99.11
Successful transactions:       34760
Failed transactions:               0
Longest transaction:            0.05
Shortest transaction:           0.01
```

#### ASP.NET

```
Transactions:                  31505 hits
Availability:                 100.00 %
Elapsed time:                   5.21 secs
Data transferred:               0.32 MB
Response time:                  0.00 secs
Transaction rate:            6047.02 trans/sec
Throughput:                     0.06 MB/sec
Concurrency:                   20.16
Successful transactions:       31506
Failed transactions:               0
Longest transaction:            0.09
Shortest transaction:           0.00
```

##### -c 100

```
Transactions:                  34209 hits
Availability:                 100.00 %
Elapsed time:                   5.49 secs
Data transferred:               0.35 MB
Response time:                  0.01 secs
Transaction rate:            6231.15 trans/sec
Throughput:                     0.06 MB/sec
Concurrency:                   37.09
Successful transactions:       34243
Failed transactions:               0
Longest transaction:            0.08
Shortest transaction:           0.00
```

ChatGPTã«ã“ã‚Œã‚‰ã®çµæœã‹ã‚‰è¦‹è§£ã‚’è¿°ã¹ã¦ã‚‚ã‚‰ã£ãŸã€‚(å›ç­”ã«è¦‹å‡ºã—ã®èª¿æ•´ã‚’è¡Œã£ã¦ã„ã‚‹ã€‚)

### è€ƒå¯Ÿçµæœ

#### 1. Hono ã®çµæœ

- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ (15ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ)**
  - **å–å¼•æ•°:** 36932 hits
  - **å–å¼•ãƒ¬ãƒ¼ãƒˆ:** 7034.67 trans/sec
  - **åŒæ™‚æ¥ç¶šæ•°:** 24.44
  - **æœ€é•·ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³:** 0.02ç§’ã€æœ€çŸ­ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³: 0.00ç§’

- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ•°100 (-c 100)**
  - **å–å¼•æ•°:** 34760 hits
  - **å–å¼•ãƒ¬ãƒ¼ãƒˆ:** 6130.51 trans/sec
  - **åŒæ™‚æ¥ç¶šæ•°:** 99.11
  - **æœ€é•·ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³:** 0.05ç§’ã€æœ€çŸ­ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³: 0.01ç§’

**è€ƒå¯Ÿ:**

Honoã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ™‚ã«éå¸¸ã«é«˜ã„å–å¼•ãƒ¬ãƒ¼ãƒˆã‚’ç¤ºã—ã¦ã„ã¾ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ•°ã‚’100ã«å¢—ã‚„ã™ã¨ã€åŒæ™‚æ¥ç¶šæ•°ã¯å¤§å¹…ã«å¢—åŠ ã™ã‚‹ä¸€æ–¹ã§å–å¼•ãƒ¬ãƒ¼ãƒˆãŒç´„13%ä½ä¸‹ã—ã¦ã„ã¾ã™ã€‚ã¾ãŸã€æœ€é•·ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³æ™‚é–“ãŒå¢—åŠ ã—ã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ•°ã®å¢—åŠ ã«ä¼´ã„å‡¦ç†å¾…ã¡ã‚„ãƒªã‚½ãƒ¼ã‚¹ç«¶åˆãŒç™ºç”Ÿã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚

#### 2. ASP.NET ã®çµæœ

- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ (15ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ)**
  - **å–å¼•æ•°:** 31505 hits
  - **å–å¼•ãƒ¬ãƒ¼ãƒˆ:** 6047.02 trans/sec
  - **åŒæ™‚æ¥ç¶šæ•°:** 20.16
  - **æœ€é•·ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³:** 0.09ç§’ã€æœ€çŸ­ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³: 0.00ç§’

- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ•°100 (-c 100)**
  - **å–å¼•æ•°:** 34209 hits
  - **å–å¼•ãƒ¬ãƒ¼ãƒˆ:** 6231.15 trans/sec
  - **åŒæ™‚æ¥ç¶šæ•°:** 37.09
  - **æœ€é•·ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³:** 0.08ç§’ã€æœ€çŸ­ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³: 0.00ç§’

**è€ƒå¯Ÿ:**\
ASP.NETã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ™‚ã¯Honoã«æ¯”ã¹ã¦å–å¼•ãƒ¬ãƒ¼ãƒˆãŒä½ã„ã§ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ•°ã‚’100ã«å¢—ã‚„ã™ã¨ã‚€ã—ã‚å–å¼•æ•°ã¨å–å¼•ãƒ¬ãƒ¼ãƒˆãŒã‚ãšã‹ã«æ”¹å–„ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€ASP.NETå´ãŒã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ•°å¢—åŠ æ™‚ã«ã‚‚å®‰å®šã—ãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç¶­æŒã§ãã‚‹è¨­è¨ˆã«ãªã£ã¦ã„ã‚‹å¯èƒ½æ€§ã‚’ç¤ºå”†ã—ã¦ã„ã¾ã™ã€‚

#### 3. ä¸¡ã‚µãƒ¼ãƒãƒ¼ã®æ¯”è¼ƒ

- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ™‚:**\
  Honoã¯ASP.NETã‚ˆã‚Šã‚‚é«˜ã„å–å¼•ãƒ¬ãƒ¼ãƒˆã¨åŒæ™‚æ¥ç¶šæ•°ã‚’å®Ÿç¾ã—ã¦ã„ã‚‹ãŸã‚ã€å°‘æ•°ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã®å‡¦ç†æ€§èƒ½ã¯éå¸¸ã«é«˜ã„ã¨è¨€ãˆã¾ã™ã€‚

- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ•°å¢—åŠ æ™‚ (-c 100):**
  - **Hono:**
    åŒæ™‚æ¥ç¶šæ•°ã¯å¤§å¹…ã«å¢—åŠ ã™ã‚‹ã‚‚ã®ã®ã€å–å¼•ãƒ¬ãƒ¼ãƒˆãŒä½ä¸‹ã—ã¦ãŠã‚Šã€è² è·ãŒé«˜ããªã‚‹ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å½±éŸ¿ãŒå‡ºã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
  - **ASP.NET:**
    åŒæ™‚æ¥ç¶šæ•°ã¯ãã‚Œã»ã©æ€¥æ¿€ã«å¢—åŠ ã—ã¾ã›ã‚“ãŒã€å–å¼•ãƒ¬ãƒ¼ãƒˆã¯ã‚€ã—ã‚è‹¥å¹²æ”¹å–„ã—ã¦ãŠã‚Šã€è² è·åˆ†æ•£ã‚„ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã®é¢ã§å®‰å®šã—ã¦ã„ã‚‹å°è±¡ã§ã™ã€‚

### çµè«–

- **Hono:**
  å°‘æ•°ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã¯éå¸¸ã«é«˜é€Ÿãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç¤ºã™ä¸€æ–¹ã€å¤§é‡ã®åŒæ™‚æ¥ç¶šãŒç™ºç”Ÿã™ã‚‹ã¨å–å¼•ãƒ¬ãƒ¼ãƒˆã®ä½ä¸‹ã‚„ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã°ã‚‰ã¤ããŒè¦‹ã‚‰ã‚Œã¾ã™ã€‚
- **ASP.NET:**
  ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ™‚ã¯Honoã«åŠ£ã‚‹ã‚‚ã®ã®ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ•°å¢—åŠ æ™‚ã«æ¯”è¼ƒçš„å®‰å®šã—ãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç¶­æŒã—ã¦ãŠã‚Šã€è² è·ãŒã‹ã‹ã£ãŸçŠ¶æ³ã§ã®æ‹¡å¼µæ€§ãŒæœŸå¾…ã§ãã‚‹çµæœã¨ãªã£ã¦ã„ã¾ã™ã€‚

ã¨ã®ã“ã¨ã€‚

ASP.NETãŒå¤§è¦æ¨¡ãªwebã‚·ã‚¹ãƒ†ãƒ ã§ä½¿ã‚ã‚Œã‚‹ã‚ãŸã‚Šæ¦‚ã­è‡ªåˆ†ã®æ„Ÿè¦šã¨ã‚‚åˆã£ã¦ã„ã‚‹ã®ã§ç´å¾—ã§ãã‚‹çµè«–ã ã¨æ„Ÿã˜ã¦ã„ã‚‹ã€‚

<details>

<summary>ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</summary>

ä»¥ä¸‹ã¯siegeã‚’ä½¿ã„Honoã¨ASP.NETã®ã‚µãƒ¼ãƒãƒ¼ã‚’è¨ˆæ¸¬ã—ãŸçµæœã§ã™ã€‚
è¨ˆæ¸¬ã«ã¯siegeã‚’ä½¿ã„ã€ãã®ã‚³ãƒãƒ³ãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

```sh
# Hono
siege -t 5s http://localhost:3000/

# ASP.NET
siege -t 5s http://localhost:5028/
```

ã¾ãŸã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒ100ã«å¢—ãˆãŸéš›ã®è¨ˆæ¸¬ã‚‚ã—ã¦ãŠã‚Šãã®çµæœã¯`-c 100`ã¨ã„ã†è¦‹å‡ºã—ã§è¨˜è¿°ã—ã¦ã‚ã‚Šã¾ã™ã€‚ãªãŠã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ•°ã¯15ã«è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚

ã“ã‚Œã‚‰ã®çµæœã‚’è¦‹ã¦æ°—ãŒä»˜ã„ãŸäº‹ã‚’è¿°ã¹ã¦ãã ã•ã„ã€‚å›ç­”ã¯markdownå½¢å¼ã‹ã¤ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚

#### Hono

```
Transactions:                  36932 hits
Availability:                 100.00 %
Elapsed time:                   5.25 secs
Data transferred:               0.46 MB
Response time:                  0.00 secs
Transaction rate:            7034.67 trans/sec
Throughput:                     0.09 MB/sec
Concurrency:                   24.44
Successful transactions:       36932
Failed transactions:               0
Longest transaction:            0.02
Shortest transaction:           0.00
```

##### -c 100

```
Transactions:                  34760 hits
Availability:                 100.00 %
Elapsed time:                   5.67 secs
Data transferred:               0.43 MB
Response time:                  0.02 secs
Transaction rate:            6130.51 trans/sec
Throughput:                     0.08 MB/sec
Concurrency:                   99.11
Successful transactions:       34760
Failed transactions:               0
Longest transaction:            0.05
Shortest transaction:           0.01
```

#### ASP.NET

```
Transactions:                  31505 hits
Availability:                 100.00 %
Elapsed time:                   5.21 secs
Data transferred:               0.32 MB
Response time:                  0.00 secs
Transaction rate:            6047.02 trans/sec
Throughput:                     0.06 MB/sec
Concurrency:                   20.16
Successful transactions:       31506
Failed transactions:               0
Longest transaction:            0.09
Shortest transaction:           0.00
```

##### -c 100

```
Transactions:                  34209 hits
Availability:                 100.00 %
Elapsed time:                   5.49 secs
Data transferred:               0.35 MB
Response time:                  0.01 secs
Transaction rate:            6231.15 trans/sec
Throughput:                     0.06 MB/sec
Concurrency:                   37.09
Successful transactions:       34243
Failed transactions:               0
Longest transaction:            0.08
Shortest transaction:           0.00
```

</details>

## æ˜æ—¥ä»¥é™ã‚„ã‚ŠãŸã„ã“ã¨

ã‚‚ã£ã¨è‰²ã€…ãªãƒ™ãƒ³ãƒã‚’å–ã£ã¦TSã¨ã®æ€§èƒ½ã‚’æ¯”ã¹ã¦ã„ããŸã„ã€‚
ã‚ã¨F#ã«ã‚‚èˆˆå‘³ãŒå‡ºã¦ããŸã®ã§ãã®ã‚ãŸã‚Šã‚‚è§¦ã‚Œã¦ã¿ãŸã„ã€‚
